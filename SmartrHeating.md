# SmartrHeating energy solutions calculator

## Introduction
The SmartrHeating calculator is designed to generate proposals for cost-efficient automated heating control for all rooms in a building using radio-controlled thermostats and a demand-oriented heating scheme.

##### Table of Contents
[Introduction](#introduction)  
[Parameters](#parameters)  
[Data](#data)  
[Results](#results)  
[Software background](#software-background)  

## Parameters
[`SmartrHeatingParams`](https://github.com/smartrplace/smartr-efficiency/blob/master/smartr-heating-server/src/main/java/extensionmodel/smarteff/smartrheating/SmartrHeatingParams.java) 

### Cold water supply temperature
`wwSupplyTemp`  
Supply temperature of cold water coming into the building (before heating up to warm drinking water)

### Working hours of customer / building owner
`hoursOfCustomerBase`, `hoursOfCustomerPerRoom`
Own working hours of customer for project implementation:  The value is calculated by the base value, which applies to all projects plus the hours for the implementation in the rooms. The project setup currently assumes that the installation of thermostats is performed by Smartrplace, but the customer leads the Smartrplace installation team through the building and enables/helps to reach each radiator. Window sensors are assumed to be installed by the customer after a training for installation. The extent of customer participation in installation and configuration shall be made more flexible in the calculator in the future. 

## Data
[`SmartrHeatingData`](https://github.com/smartrplace/smartr-efficiency/blob/master/smartr-heating-server/src/main/java/extensionmodel/smarteff/smartrHeating/SmartrHeatingData.java)  

### Warm water supply included (boolean)
`wwIsContained`
If true the primary energy consumption (e.g. gas, oil or electricity for a heat pump) for the generation of warm drinking water is contained in the overall heating energy consumption value
and the heating energy bills. Otherwise warm drinking water generation is performed separately in the building, e.g. via direct electricity warm water generation.

## Warm drinking water consumption
`wwConsumption`
Warm drinking water consumption in m3/year. In the future an estimation based on heating bills including warm water shall be possible like the estimation of the total heating input energy. It shall also be possible to estimate the warm water consumption based on the type of the building and the number of users/inhabitants, although such estimation come with a high uncertainty. This volume is the amount of warm drinking water consumed with the [supply temperature](SmartrHeating#wwsupplyTemp) and not the total amount of warm water consumed from cranes, which is usually partially mixed with cold water.

### Warm water temperature
`wwTemp`
The temperature of warm water after leaving the heating system, which usually is a bit higher than the maximum temperature at the extraction point due to losses in the building pipes.

### Estimated warm water energy loss from storage, circulation at current temperature in heated areas
`wwLossHeatedAreas`  
The losses in the warm drinking water provision usually partially contribute the the building heating and partially directly go to the outside of the building. This value estimates the relation of losses generated by warm water provision to the warm water energy demand (the value is based on the real demand, not on the overall energy input into warm water provision including losses). This is due to the fact that the calculator estimates the real energy demand based on the warm water consumption, not on the gas energy consumption, which usually is not divided between heating and warm water supply. These losses contribute to the building heating during the heating period, but are relevant losses during the non-heating period.<br>
At the current stage of implementation the losses are assumed to be constant during the entire year.

### Warm water energy loss in unheated areas
`wwLossUnheatedAreas`  
See [Loss to heated areas](SmartrHeating.md#wwLossHeatedAreas). In contrast to the linked element this is the relation of losses going into unheated areas, which are relevant energy losses during heating and non-heating period.

### Number of heating days
`heatingDaysManual`
For the estimation of the savings the climate characteristics of the building location is relevant. This represents the average number of days per year during which heating was active in the building. To be exact this number should be related to the period during  which the heating energy consumption entered for the building was generated. As the previous heating behaviour and the future usage characteristics usually also contain a relevant uncertainty an estimation of this figure is sufficient for the savings estimation in most cases.

### Heating degree days per year
`heatingDegreeDaysManual`
In addition to the number of heating days this number provides additional information on the climate at the building location. For more information see [Gradtagzahl](https://de.wikipedia.org/wiki/Gradtagzahl) (only available in German). The standard value can be kept for typical German climates. The usage of this number needs more discussion as this number heavily depends on the heating limit temperature.<br>
Note: The value is currently not used by the calculator.

### Usage time per week
`usageTimePerWeek`
Number of hours per week the building is used and needs to be heated. If it is easier to estimate the number of hours the building is NOT used, subtract the number from 168 hours per week. Note that very short periods of non-usage below 2 or 3 hours are not relevant here. If longer periods occur with very limited usage of e.g. only a single room then these times can be counted partially as usage. A more detailed representation of such situation in the calculator is planned for the future.

### Usage blocks per week 
`usageBlocksPerWeek`
To estimate the savings not only the total time of usage week is relevant, but also whether these hours are distributed into short blocks of time with intermediate heating is required or whether longer periods of usage and non-usage occur. So the number of usage blocks shall be given here (e.g. 5 blocks if the building is used each day from Monday to Friday during working hours and needs not to be heated during the rest of the week).

### Time to cool down the building
`coolingDownHours`
Estimation for the number of hours required to cool down the building. To be exact this depends on several assumptions and parameters, but usually a rough idea for this number can be given by people setting up the heating parameters for a building in the past can be used here.

### Time to heat up the building
`heatingUpHours`
Estimation for the number of hours required to heat up the building after it has been cooled down with full power of the heating system on an average day during the heating season. See also time to cool down for considerations how to estimate the number.

### Number of hours and blocks the building was cooled per week down before introduction of SmartrHeating
`heatingReductionHoursBefore`
`heatingReductionBlocksBefore`
Not only the future heating characteristics based on the usage that is represented by usage time and blocks per week is relevant for the estimation of the savings, but also the heat lowering that was achieved before the new system is introduced. If an efficient night setback is in place before a more sophisticated building energy control will still generate additional savings, but not as high as for a building without any heating management in the reference case. On the other hand savings obtained by window opening supervision and temperature reduction in single rooms is not modeled yet at all.

### Problems with fungus or mould
`problemsWithFungusOrMould`
The system can help to prevent moisture when additional humidity sensors are placed in rooms that are critical regarding this issue. The information regarding fungus and mould is not used by the calculator yet but shall be added in the future.

## Results
[`SmartrHeatingResult`](https://github.com/smartrplace/smartr-efficiency/blob/master/smartr-heating-server/src/main/java/extensionmodel/smarteff/smartrheating/SmartrHeatingResult.java)  

### Initial investment cost
`costOfProject`
The final cost of the project requires an additional evaluation, but usually the final offer is close to the number given here.

### Yearly benefits and costs
`yearlyOperatingCosts`
`yearlySavings`
Yearly savings are generated by a reduction of energy cost. This number may also include additional benefits declated in the input data for the calculator in the future. Yearly operating cost occur comprise the cost for changing batteries of thermostats and window sensors and the operation fee for the system. The payback-period currently is only shown in the overview table.

### Warm water energy (pre-renovation) (kWh)
`wwEnergyPreRenovation`  
Estimation of energy used for warm water generation as part of the total energy consumption. Only relevant if the energy for warm drinking water is part of the building energy bill entered.

### Heating energy (pre-renovation) (kWh)
`heatingEnergyPreRenovation`  
Part of total energy bill for the building entered that is attributed to heating energy.

### Number of thermostats and rooms affected by the measure
`thermostatNum`
`roomNumWithThermostats`
The number of thermostats to be exchanged and the number of rooms that need to be entered and checked are most relevant for the cost of the measure.

### Internal values
`hoursWithoutLowering`
`hoursLoweringEffectiveBefore`
These are values for the validation of the internal model.


## Software background
The calculator uses the [Spreadsheet2Portal](https://github.com/smartrplace/smartr-efficiency/blob/master/Spreadsheet2Portal.md) concept.
Note: Example spreadsheets will be provided soon.
